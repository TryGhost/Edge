function video(){"use strict";$(".post-content").fitVids()}function gallery(){"use strict";document.querySelectorAll(".kg-gallery-image img").forEach(function(t){var e=t.closest(".kg-gallery-image"),i=t.attributes.width.value,t=t.attributes.height.value;e.style.flex=i/t+" 1 0%"}),pswp(".kg-gallery-container",".kg-gallery-image",".kg-gallery-image",!1,!0)}function mobileMenu(){"use strict";$(".burger").on("click",function(){$("body").toggleClass("menu-opened")})}function feed(){"use strict";var e=$(".post-feed").masonry({columnWidth:".grid-sizer",itemSelector:"none",hiddenStyle:{transform:"translateY(50px)",opacity:0},visibleStyle:{transform:"translateY(0)",opacity:1}}),t=e.data("masonry");e.imagesLoaded(function(){e.addClass("initialized"),e.masonry("option",{itemSelector:".grid-item"});var t=e.find(".grid-item");e.masonry("appended",t)}),$(".pagination .older-posts").length&&e.infiniteScroll({append:".grid-item",history:!1,outlayer:t,path:".pagination .older-posts",prefill:!0,status:".infinite-scroll-status"}),pswp(".post-feed",".grid-item:not(.grid-sizer)",".post-lightbox",".post-caption",!1)}function pswp(o,r,s,a,l){function e(t){t.preventDefault();var n,e=$(t.target).closest(o).find(r).index($(t.target).closest(r)),i=$(t.target).closest(o);return t=e,e=i[0],i=document.querySelectorAll(".pswp")[0],e=u(e),(n=new PhotoSwipe(i,PhotoSwipeUI_Default,e,{closeOnScroll:!1,history:!1,index:t,shareEl:!1,showAnimationDuration:0,showHideOpacity:!0})).listen("gettingData",function(t,e){var i;(e.w<1||e.h<1)&&((i=new Image).onload=function(){e.w=this.width,e.h=this.height,n.updateSize(!0)},i.src=e.src)}),n.init(),0}var u=function(t){var i,n,o=[];return $(t).find(r).each(function(t,e){i=$(e),n=i.find(s),n={src:l?i.find("img").attr("src"):n.attr("href"),w:0,h:0},a&&i.find(a).length&&(n.title=i.find(a).html()),o.push(n)}),o};$(o).on("click",s,function(t){e(t)})}!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";function i(l,u,c){(c=c||e||t.jQuery)&&(u.prototype.option||(u.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[l]=function(t){if("string"!=typeof t)return a=t,this.each(function(t,e){var i=c.data(e,l);i?(i.option(a),i._init()):(i=new u(e,a),c.data(e,l,i))}),this;var n,o,r,s,a,e=d.call(arguments,1);return o=e,s="$()."+l+'("'+(n=t)+'")',(t=this).each(function(t,e){var i=c.data(e,l);i?(e=i[n])&&"_"!=n.charAt(0)?(i=e.apply(i,o),r=void 0===r?i:r):h(s+" is not a valid method"):h(l+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==r?r:t},n(c))}function n(t){!t||t.bridget||(t.bridget=i)}var d=Array.prototype.slice,o=t.console,h=void 0===o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},t=i[t]=i[t]||[];return-1==t.indexOf(e)&&t.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length){e=t.indexOf(e);return-1!=e&&t.splice(e,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,r){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,r(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,n){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},l.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var u=i.console;return l.htmlInit=function(s,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),t=l.makeArray(e).concat(l.makeArray(t)),o=n+"-options",r=i.jQuery;t.forEach(function(e){var t=e.getAttribute(n)||e.getAttribute(o);try{i=t&&JSON.parse(t)}catch(t){return void(u&&u.error("Error parsing "+n+" on "+e.className+": "+t))}var i=new s(e,i);r&&r.data(e,a,i)})})},l}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("ev-emitter"),require("fizzy-ui-utils")):i.InfiniteScroll=n(i,i.EvEmitter,i.fizzyUIUtils)}(window,function(e,t,o){function r(t,e){var i=o.getQueryElement(t);if(i){if((t=i).infiniteScrollGUID){var n=a[t.infiniteScrollGUID];return n.option(e),n}this.element=t,this.options=o.extend({},r.defaults),this.option(e),s&&(this.$element=s(this.element)),this.create()}else console.error("Bad element for InfiniteScroll: "+(i||t))}var s=e.jQuery,a={};r.defaults={},r.create={},r.destroy={};var i=r.prototype;o.extend(i,t.prototype);var n=0;i.create=function(){var t=this.guid=++n;if(this.element.infiniteScrollGUID=t,(a[t]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var e in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),r.create)r.create[e].call(this);else console.error("Disabling InfiniteScroll")},i.option=function(t){o.extend(this.options,t)},i.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},i.dispatchEvent=function(t,e,i){this.log(t,i);var n=e?[e].concat(i):i;this.emitEvent(t,n),s&&this.$element&&(n=t+=".infiniteScroll",e&&((e=s.Event(e)).type=t,n=e),this.$element.trigger(n,i))};var l={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,i){return i.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};i.log=function(t,e){var i;this.options.debug&&(i="[InfiniteScroll] "+t,(t=l[t])&&(i+=". "+t.apply(this,e)),console.log(i))},i.updateMeasurements=function(){this.windowHeight=e.innerHeight;var t=this.element.getBoundingClientRect();this.top=t.top+e.pageYOffset},i.updateScroller=function(){var t=this.options.elementScroll;if(t){if(this.scroller=!0===t?this.element:o.getQueryElement(t),!this.scroller)throw"Unable to find elementScroll: "+t}else this.scroller=e},i.updateGetPath=function(){var t=this.options.path;if(t){var e=typeof t;if("function"!=e)return"string"==e&&t.match("{{#}}")?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t);this.getPath=t}else console.error("InfiniteScroll path option required. Set as: "+t)},i.updateGetPathTemplate=function(e){this.getPath=function(){var t=this.pageIndex+1;return e.replace("{{#}}",t)}.bind(this);var t=e.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),t=new RegExp(t),t=location.href.match(t);t&&(this.pageIndex=parseInt(t[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var u=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return i.updateGetPathSelector=function(t){var e=document.querySelector(t);if(e){for(var i,n=e.getAttribute("href"),o=0;n&&o<u.length;o++){var r=n.match(u[o]);if(r){i=r.slice(1);break}}return i?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return i[0]+t+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+n)}console.error("Bad InfiniteScroll path option. Next link not found: "+t)},i.updateGetAbsolutePath=function(){var t,e,i=this.getPath();i.match(/^http/)||i.match(/^\//)?this.getAbsolutePath=this.getPath:(t=location.pathname,i.match(/^\?/)?this.getAbsolutePath=function(){return t+this.getPath()}:(e=t.substring(0,t.lastIndexOf("/")),this.getAbsolutePath=function(){return e+"/"+this.getPath()}))},r.create.hideNav=function(){var t=o.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},r.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},i.destroy=function(){for(var t in this.allOff(),r.destroy)r.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete a[this.guid],s&&this.$element&&s.removeData(this.element,"infiniteScroll")},r.throttle=function(n,o){var r,s;return o=o||200,function(){var t=+new Date,e=arguments,i=function(){r=t,n.apply(this,e)}.bind(this);r&&t<r+o?(clearTimeout(s),s=setTimeout(i,o)):i()}},r.data=function(t){t=(t=o.getQueryElement(t))&&t.infiniteScrollGUID;return t&&a[t]},r.setJQuery=function(t){s=t},o.htmlInit(r,"infinite-scroll"),i._init=function(){},s&&s.bridget&&s.bridget("infiniteScroll",r),r}),function(e,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("./core")):i(e,e.InfiniteScroll)}(window,function(n,o){function r(t){for(var e=document.createDocumentFragment(),i=0;t&&i<t.length;i++)e.appendChild(t[i]);return e}function i(t){for(var e=t.querySelectorAll("script"),i=0;i<e.length;i++){var n=e[i],o=document.createElement("script");(function(t,e){for(var i=t.attributes,n=0;n<i.length;n++){var o=i[n];e.setAttribute(o.name,o.value)}})(n,o),o.innerHTML=n.innerHTML,n.parentNode.replaceChild(o,n)}}var t=o.prototype;return o.defaults.loadOnScroll=!0,o.defaults.checkLastPage=!0,o.defaults.responseType="document",o.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},t.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},t.loadNextPage=function(){var e,t,i,n,o,r,s,a,l,u;!this.isLoading&&this.canLoad&&(e=this.getAbsolutePath(),this.isLoading=!0,t=function(t){this.onPageLoad(t,e)}.bind(this),i=function(t){this.onPageError(t,e)}.bind(this),n=function(t){this.lastPageReached(t,e)}.bind(this),o=e,r=this.options.responseType,s=t,a=i,l=n,(u=new XMLHttpRequest).open("GET",o,!0),u.responseType=r||"",u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.onload=function(){var t;200==u.status?s(u.response):204==u.status?l(u.response):(t=new Error(u.statusText),a(t))},u.onerror=function(){var t=new Error("Network error requesting "+o);a(t)},u.send(),this.dispatchEvent("request",null,[e]))},t.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},t.appendNextPage=function(t,e){var i,n,o=this.options.append;"document"==this.options.responseType&&o&&(i=t.querySelectorAll(o),n=r(i),o=function(){this.appendItems(i,n),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,i])}.bind(this),this.options.outlayer?this.appendOutlayerItems(n,o):o())},t.appendItems=function(t,e){t&&t.length&&(i(e=e||r(t)),this.element.appendChild(e))},t.appendOutlayerItems=function(t,e){var i=o.imagesLoaded||n.imagesLoaded;return i?void i(t,e):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},t.onAppendOutlayer=function(t,e,i){this.options.outlayer.appended(i)},t.checkLastPage=function(t,e){var i=this.options.checkLastPage;if(i){var n,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(t,e);"string"==typeof i?n=i:this.isPathSelector&&(n=o),n&&t.querySelector&&(t.querySelector(n)||this.lastPageReached(t,e))}},t.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},t.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},o.create.prefill=function(){var t;this.options.prefill&&((t=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+t))},t.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=0<=t,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},t.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},t.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},o}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(e,t,i){var n=t.prototype;return t.defaults.scrollThreshold=400,t.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold;!t&&0!==t||this.enableScrollWatch()},t.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(t){t=t?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.pageScrollHandler),e[t]("resize",this.resizeHandler)},n.onPageScroll=t.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(e.pageYOffset+this.windowHeight)},n.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},n.onResize=function(){this.updateMeasurements()},i.debounceMethod(t,"onResize",150),t}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(e,t,i){var n=t.prototype;t.defaults.history="replace";var o=document.createElement("a");return t.create.history=function(){if(this.options.history)return o.href=this.getAbsolutePath(),(o.origin||o.protocol+"//"+o.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(t){t=t?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.scrollHistoryHandler),e[t]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},t.destroy.history=n.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,i){i&&i.length&&(i=i[0],i=this.getElementScrollY(i),o.href=e,this.scrollPages.push({top:i,path:o.href,title:t.title}))},n.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},n.getElementWindowScrollY=function(t){return t.getBoundingClientRect().top+e.pageYOffset},n.getElementElementScrollY=function(t){return t.offsetTop-this.top},n.onScrollHistory=function(){for(var t,e,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;t=n,e=o}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},i.debounceMethod(t,"onScrollHistory",150),n.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:e.pageYOffset+this.windowHeight/2},n.setHistory=function(t,e){var i=this.options.history;i&&history[i+"State"]&&(history[i+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var t=this.scrollPageIndex;0!==t&&(t=this.scrollPages[t],t=e.pageYOffset-t.top+this.top,this.destroyHistory(),scrollTo(0,t))},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},t}),function(t,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./core"),require("fizzy-ui-utils")):i(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=i.getQueryElement(this.options.button);t&&(this.button=new n(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=n,e}),function(t,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./core"),require("fizzy-ui-utils")):i(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){r(t,"none")}function o(t){r(t,"block")}function r(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=i.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[t])},s.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements)n(this.statusEventElements[t])},e}),function(t){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(t){return t})),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function r(t,e){for(var i in e)t[i]=e[i];return t}function s(t,e,i){if(!(this instanceof s))return new s(t,e,i);var n,o=t;return(o="string"==typeof t?document.querySelectorAll(t):o)?(this.elements=(n=o,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?u.call(n):[n]),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(o||t))}function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}var a=e.jQuery,l=e.console,u=Array.prototype.slice;(s.prototype=Object.create(t.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background)for(var r=t.querySelectorAll(this.options.background),n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}};var c={1:!0,9:!0,11:!0};return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},s.prototype.addImage=function(t){t=new i(t);this.images.push(t)},s.prototype.addBackground=function(t,e){e=new n(t,e);this.images.push(e)},s.prototype.check=function(){function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},s.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((a=t).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(a(this))})})(),s}),function(r){"use strict";r.fn.fitVids=function(t){var e,i,o={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(e=document.head||document.getElementsByTagName("head")[0],(i=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',e.appendChild(i.childNodes[1])),t&&r.extend(o,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];o.customSelector&&t.push(o.customSelector);var n=".fitvidsignore";o.ignore&&(n=n+", "+o.ignore);t=r(this).find(t.join(","));(t=(t=t.not("object object")).not(n)).each(function(){var t,e,i=r(this);0<i.parents(n).length||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length||(i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16)),t=("object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height())/(isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10)),i.attr("name")||(e="fitvid"+r.fn.fitVids._count,i.attr("name",e),r.fn.fitVids._count++),i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),i.removeAttr("height").removeAttr("width"))})})},r.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(t){var e=function(u,R,c){"use strict";var F,W;if(function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};W=u.lazySizesConfig||u.lazysizesConfig||{};for(t in e)t in W||(W[t]=e[t])}(),!R||!R.getElementsByClassName)return{init:function(){},cfg:W,noSupport:!0};var H=R.documentElement,n=u.HTMLPictureElement,q="addEventListener",N="getAttribute",j=u[q].bind(u),B=u.setTimeout,U=u.requestAnimationFrame||B,a=u.requestIdleCallback,Z=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],i={},Y=Array.prototype.forEach,G=function(t,e){return i[e]||(i[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),i[e].test(t[N]("class")||"")&&i[e]},$=function(t,e){G(t,e)||t.setAttribute("class",(t[N]("class")||"").trim()+" "+e)},K=function(t,e){var i;(i=G(t,e))&&t.setAttribute("class",(t[N]("class")||"").replace(i," "))},Q=function(e,i,t){var n=t?q:"removeEventListener";t&&Q(e,i),o.forEach(function(t){e[n](t,i)})},V=function(t,e,i,n,o){var r=R.createEvent("Event");return i||(i={}),i.instance=F,r.initEvent(e,!n,!o),r.detail=i,t.dispatchEvent(r),r},X=function(t,e){var i;!n&&(i=u.picturefill||W.pf)?(e&&e.src&&!t[N]("srcset")&&t.setAttribute("srcset",e.src),i({reevaluate:!0,elements:[t]})):e&&e.src&&(t.src=e.src)},J=function(t,e){return(getComputedStyle(t,null)||{})[e]},s=function(t,e,i){for(i=i||t.offsetWidth;i<W.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},tt=function(){var i,n,e=[],o=[],r=e,s=function(){var t=r;for(r=e.length?o:e,i=!0,n=!1;t.length;)t.shift()();i=!1},t=function(t,e){i&&!e?t.apply(this,arguments):(r.push(t),n||(n=!0,(R.hidden?B:U)(s)))};return t._lsFlush=s,t}(),et=function(i,t){return t?function(){tt(i)}:function(){var t=this,e=arguments;tt(function(){i.apply(t,e)})}},it=function(t){var i,n=0,o=W.throttleDelay,r=W.ricTimeout,e=function(){i=!1,n=c.now(),t()},s=a&&r>49?function(){a(e,{timeout:r}),r!==W.ricTimeout&&(r=W.ricTimeout)}:et(function(){B(e)},!0);return function(t){var e;(t=!0===t)&&(r=33),i||(i=!0,e=o-(c.now()-n),e<0&&(e=0),t||e<9?s():B(s,e))}},nt=function(t){var e,i,n=99,o=function(){e=null,t()},r=function(){var t=c.now()-i;t<n?B(r,n-t):(a||o)(o)};return function(){i=c.now(),e||(e=B(r,n))}},t=function(){var p,f,d,m,t,g,y,v,w,b,x,E,r=/^img$/i,h=/^iframe$/i,I="onscroll"in u&&!/(gle|ing)bot/.test(navigator.userAgent),S=0,C=0,T=0,z=-1,_=function(t){T--,(!t||T<0||!t.target)&&(T=0)},L=function(t){return null==E&&(E="hidden"==J(R.body,"visibility")),E||!("hidden"==J(t.parentNode,"visibility")&&"hidden"==J(t,"visibility"))},A=function(t,e){var i,n=t,o=L(t);for(v-=e,x+=e,w-=e,b+=e;o&&(n=n.offsetParent)&&n!=R.body&&n!=H;)(o=(J(n,"opacity")||1)>0)&&"visible"!=J(n,"overflow")&&(i=n.getBoundingClientRect(),o=b>i.left&&w<i.right&&x>i.top-1&&v<i.bottom+1);return o},e=function(){var t,e,i,n,o,r,s,a,l,u,c,d,h=F.elements;if((m=W.loadMode)&&T<8&&(t=h.length)){for(e=0,z++;e<t;e++)if(h[e]&&!h[e]._lazyRace)if(!I||F.prematureUnveil&&F.prematureUnveil(h[e]))M(h[e]);else if((a=h[e][N]("data-expand"))&&(r=1*a)||(r=C),u||(u=!W.expand||W.expand<1?H.clientHeight>500&&H.clientWidth>500?500:370:W.expand,F._defEx=u,c=u*W.expFactor,d=W.hFac,E=null,C<c&&T<1&&z>2&&m>2&&!R.hidden?(C=c,z=0):C=m>1&&z>1&&T<6?u:S),l!==r&&(g=innerWidth+r*d,y=innerHeight+r,s=-1*r,l=r),i=h[e].getBoundingClientRect(),(x=i.bottom)>=s&&(v=i.top)<=y&&(b=i.right)>=s*d&&(w=i.left)<=g&&(x||b||w||v)&&(W.loadHidden||L(h[e]))&&(f&&T<3&&!a&&(m<3||z<4)||A(h[e],r))){if(M(h[e]),o=!0,T>9)break}else!o&&f&&!n&&T<4&&z<4&&m>2&&(p[0]||W.preloadAfterLoad)&&(p[0]||!a&&(x||b||w||v||"auto"!=h[e][N](W.sizesAttr)))&&(n=p[0]||h[e]);n&&!o&&M(n)}},i=it(e),P=function(t){var e=t.target;if(e._lazyCache)return void delete e._lazyCache;_(t),$(e,W.loadedClass),K(e,W.loadingClass),Q(e,O),V(e,"lazyloaded")},n=et(P),O=function(t){n({target:t.target})},D=function(e,i){try{e.contentWindow.location.replace(i)}catch(t){e.src=i}},k=function(t){var e,i=t[N](W.srcsetAttr);(e=W.customMedia[t[N]("data-media")||t[N]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},s=et(function(e,t,i,n,o){var r,s,a,l,u,c;(u=V(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?$(e,W.autosizesClass):e.setAttribute("sizes",n)),s=e[N](W.srcsetAttr),r=e[N](W.srcAttr),o&&(a=e.parentNode,l=a&&Z.test(a.nodeName||"")),c=t.firesLoad||"src"in e&&(s||r||l),u={target:e},$(e,W.loadingClass),c&&(clearTimeout(d),d=B(_,2500),Q(e,O,!0)),l&&Y.call(a.getElementsByTagName("source"),k),s?e.setAttribute("srcset",s):r&&!l&&(h.test(e.nodeName)?D(e,r):e.src=r),o&&(s||l)&&X(e,{src:r})),e._lazyRace&&delete e._lazyRace,K(e,W.lazyClass),tt(function(){var t=e.complete&&e.naturalWidth>1;c&&!t||(t&&$(e,"ls-is-cached"),P(u),e._lazyCache=!0,B(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&T--},!0)}),M=function(t){if(!t._lazyRace){var e,i=r.test(t.nodeName),n=i&&(t[N](W.sizesAttr)||t[N]("sizes")),o="auto"==n;(!o&&f||!i||!t[N]("src")&&!t.srcset||t.complete||G(t,W.errorClass)||!G(t,W.lazyClass))&&(e=V(t,"lazyunveilread").detail,o&&ot.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,T++,s(t,e,o,n,i))}},o=nt(function(){W.loadMode=3,i()}),a=function(){3==W.loadMode&&(W.loadMode=2),o()},l=function(){if(!f){if(c.now()-t<999)return void B(l,999);f=!0,W.loadMode=3,i(),j("scroll",a,!0)}};return{_:function(){t=c.now(),F.elements=R.getElementsByClassName(W.lazyClass),p=R.getElementsByClassName(W.lazyClass+" "+W.preloadClass),j("scroll",i,!0),j("resize",i,!0),j("pageshow",function(t){if(t.persisted){var e=R.querySelectorAll("."+W.loadingClass);e.length&&e.forEach&&U(function(){e.forEach(function(t){t.complete&&M(t)})})}}),u.MutationObserver?new MutationObserver(i).observe(H,{childList:!0,subtree:!0,attributes:!0}):(H[q]("DOMNodeInserted",i,!0),H[q]("DOMAttrModified",i,!0),setInterval(i,999)),j("hashchange",i,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(t){R[q](t,i,!0)}),/d$|^c/.test(R.readyState)?l():(j("load",l),R[q]("DOMContentLoaded",i),B(l,2e4)),F.elements.length?(e(),tt._lsFlush()):i()},checkElems:i,unveil:M,_aLSL:a}}(),ot=function(){var i,r=et(function(t,e,i,n){var o,r,s;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),Z.test(e.nodeName||""))for(o=e.getElementsByTagName("source"),r=0,s=o.length;r<s;r++)o[r].setAttribute("sizes",n);i.detail.dataAttr||X(t,i.detail)}),n=function(t,e,i){var n,o=t.parentNode;o&&(i=s(t,o,i),n=V(t,"lazybeforesizes",{width:i,dataAttr:!!e}),n.defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&r(t,o,n,i))},t=function(){var t,e=i.length;if(e)for(t=0;t<e;t++)n(i[t])},e=nt(t);return{_:function(){i=R.getElementsByClassName(W.autosizesClass),j("resize",e)},checkElems:e,updateElem:n}}(),e=function(){!e.i&&R.getElementsByClassName&&(e.i=!0,ot._(),t._())};return B(function(){W.init&&e()}),F={cfg:W,autoSizer:ot,loader:t,init:e,uP:X,aC:$,rC:K,hC:G,fire:V,gW:s,rAF:tt}}(t,t.document,Date);t.lazySizes=e,"object"==typeof module&&module.exports&&(module.exports=e)}("undefined"!=typeof window?window:{}),function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";function i(l,u,c){(c=c||e||t.jQuery)&&(u.prototype.option||(u.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[l]=function(t){if("string"!=typeof t)return a=t,this.each(function(t,e){var i=c.data(e,l);i?(i.option(a),i._init()):(i=new u(e,a),c.data(e,l,i))}),this;var n,o,r,s,a,e=d.call(arguments,1);return o=e,s="$()."+l+'("'+(n=t)+'")',(t=this).each(function(t,e){var i=c.data(e,l);i?(e=i[n])&&"_"!=n.charAt(0)?(i=e.apply(i,o),r=void 0===r?i:r):h(s+" is not a valid method"):h(l+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==r?r:t},n(c))}function n(t){!t||t.bridget||(t.bridget=i)}var d=Array.prototype.slice,o=t.console,h=void 0===o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},t=i[t]=i[t]||[];return-1==t.indexOf(e)&&t.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length){e=t.indexOf(e);return-1!=e&&t.splice(e,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function p(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function f(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}function m(t){if(w||(w=!0,(h=document.createElement("div")).style.width="200px",h.style.padding="1px 2px 3px 4px",h.style.borderStyle="solid",h.style.borderWidth="1px 2px 3px 4px",h.style.boxSizing="border-box",(d=document.body||document.documentElement).appendChild(h),c=f(h),g=200==Math.round(p(c.width)),m.isBoxSizeOuter=g,d.removeChild(h)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=f(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<v;e++)t[y[e]]=0;return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var n=i.isBorderBox="border-box"==e.boxSizing,o=0;o<v;o++){var r=y[o],s=e[r],s=parseFloat(s);i[r]=isNaN(s)?0:s}var a=i.paddingLeft+i.paddingRight,l=i.paddingTop+i.paddingBottom,u=i.marginLeft+i.marginRight,c=i.marginTop+i.marginBottom,d=i.borderLeftWidth+i.borderRightWidth,h=i.borderTopWidth+i.borderBottomWidth,t=n&&g,n=p(e.width);!1!==n&&(i.width=n+(t?0:a+d));n=p(e.height);return!1!==n&&(i.height=n+(t?0:l+h)),i.innerWidth=i.width-(a+d),i.innerHeight=i.height-(l+h),i.outerWidth=i.width+u,i.outerHeight=i.height+c,i}var h,d,c}var g,e="undefined"==typeof console?function(){}:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],v=y.length,w=!1;return m}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,r){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,r(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,n){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},l.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var u=i.console;return l.htmlInit=function(s,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),t=l.makeArray(e).concat(l.makeArray(t)),o=n+"-options",r=i.jQuery;t.forEach(function(e){var t=e.getAttribute(n)||e.getAttribute(o);try{i=t&&JSON.parse(t)}catch(t){return void(u&&u.error("Error parsing "+n+" on "+e.className+": "+t))}var i=new s(e,i);r&&r.data(e,a,i)})})},l}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var n=document.documentElement.style,o="string"==typeof n.transition?"transition":"WebkitTransition",r="string"==typeof n.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],a={transform:r,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"},t=i.prototype=Object.create(t.prototype);t.constructor=i,t._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getSize=function(){this.size=e(this.element)},t.css=function(t){var e,i=this.element.style;for(e in t)i[a[e]||e]=t[e]},t.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=parseFloat(n),s=parseFloat(o),t=this.layout.size;-1!=n.indexOf("%")&&(r=r/100*t.width),-1!=o.indexOf("%")&&(s=s/100*t.height),r=isNaN(r)?0:r,s=isNaN(s)?0:s,r-=e?t.paddingLeft:t.paddingRight,s-=i?t.paddingTop:t.paddingBottom,this.position.x=r,this.position.y=s},t.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"right":"left",r=this.position.x+t[i?"paddingLeft":"paddingRight"];e[i?"left":"right"]=this.getXValue(r),e[o]="";o=n?"bottom":"top",t=this.position.y+t[n?"paddingTop":"paddingBottom"];e[n?"top":"bottom"]=this.getYValue(t),e[o]="",this.css(e),this.emitEvent("layout",[this])},t.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},t.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},t._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=t==this.position.x&&e==this.position.y;this.setPosition(t,e),!o||this.isTransitioning?((o={}).transform=this.getTranslate(t-i,e-n),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})):this.layoutPosition()},t.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},t.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},t.moveTo=t._transitionTo,t.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},t._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},t.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,i=this._transn;for(e in t.onTransitionEnd)i.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var l="opacity,"+r.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});t.enableTransition=function(){var t;this.isTransitioning||(t="number"==typeof(t=this.layout.options.transitionDuration)?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1))},t.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},t.onotransitionend=function(t){this.ontransitionend(t)};var u={"-webkit-transform":"transform"};t.ontransitionend=function(t){var e,i;t.target===this.element&&(e=this._transn,i=u[t.propertyName]||t.propertyName,delete e.ingProperties[i],function(t){for(var e in t)return;return 1}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this]))},t.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},t._removeStyles=function(t){var e,i={};for(e in t)i[e]="";this.css(i)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return t.removeTransitionStyles=function(){this.css(c)},t.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},t.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},t.remove=function(){return o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},t.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},t.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},t.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t)return e},t.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},t.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},t.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(o,r){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,n){return r(o,t,e,i,n)}):"object"==typeof module&&module.exports?module.exports=r(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=r(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(t,e,o,n,r){"use strict";function s(t,e){var i=n.getQueryElement(t);i?(this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),e=++c,this.element.outlayerGUID=e,(d[e]=this)._create(),this._getOption("initLayout")&&this.layout()):l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function a(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}function i(){}var l=t.console,u=t.jQuery,c=0,d={};s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=s.prototype;n.extend(h,e.prototype),h.option=function(t){n.extend(this.options,t)},h._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=new i(e[o],this);n.push(r)}return n},h._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(t){return t.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=o(this.element)},h._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[t]=i?o(i)[e]:n):this[t]=0},h.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},h._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},h._layoutItems=function(t,i){var n;this._emitCompleteOnItems("layout",t),t&&t.length&&(n=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,n.push(e)},this),this._processLayoutQueue(n))},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},h.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var t=(e=t.match(/(^\d*\.?\d*)(\w*)/))&&e[1],e=e&&e[2];return t.length?(t=parseFloat(t))*(p[e]||1):0}(t),this.stagger)},h._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){var t;!this._getOption("resizeContainer")||(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},h._getContainerSize=i,h._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},h._emitCompleteOnItems=function(e,t){function i(){r.dispatchEvent(e+"Complete",null,[t])}function n(){++o==s&&i()}var o,r=this,s=t.length;t&&s?(o=0,t.forEach(function(t){t.once(e,n)})):i()},h.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),u&&(this.$element=this.$element||u(this.element),e?((e=u.Event(e)).type=t,this.$element.trigger(e,i)):this.$element.trigger(t,i))},h.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0)},h.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored},h.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},h.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},h._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),n.makeArray(t)):void 0},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},h._manageStamp=i,h._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=o(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom}},h.handleEvent=n.handleEvent,h.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},h.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t},h.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t))},h.prepended=function(t){var e=this._itemize(t);e.length&&(t=this.items.slice(0),this.items=e.concat(t),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(t))},h.reveal=function(t){var i;this._emitCompleteOnItems("reveal",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.reveal()}))},h.hide=function(t){var i;this._emitCompleteOnItems("hide",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.hide()}))},h.revealItemElements=function(t){t=this.getItems(t);this.reveal(t)},h.hideItemElements=function(t){t=this.getItems(t);this.hide(t)},h.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},h.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t)},this),e},h.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},h.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();t=this.element.outlayerGUID;delete d[t],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=(t=n.getQueryElement(t))&&t.outlayerGUID;return t&&d[t]},s.create=function(t,e){var i=a(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=a(r),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var p={ms:1,s:1e3};return s.Item=r,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,a){var e=t.create("masonry");e.compatOptions.fitWidth="isFitWidth";t=e.prototype;return t._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},t.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(i=(e=this.items[0])&&e.element,this.columnWidth=i&&a(i).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,i=e/t,t=t-e%t,i=Math[t&&t<1?"round":"floor"](i);this.cols=Math.max(i,1)},t.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,t=a(t);this.containerWidth=t&&t.innerWidth},t._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,i=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),i=Math.min(i,this.cols),n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),e={x:this.columnWidth*n.col,y:n.y},o=n.y+t.size.outerHeight,r=i+n.col,s=n.col;s<r;s++)this.colYs[s]=o;return e},t._getTopColPosition=function(t){var e=this._getTopColGroup(t),t=Math.min.apply(Math,e);return{col:e.indexOf(t),y:t}},t._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},t._getColGroupY=function(t,e){if(e<2)return this.colYs[t];e=this.colYs.slice(t,t+e);return Math.max.apply(Math,e)},t._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,i=1<t&&i+t>this.cols?0:i,e=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=e?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},t._manageStamp=function(t){var e=a(t),i=this._getElementOffset(t),n=this._getOption("originLeft")?i.left:i.right,t=n+e.outerWidth,n=Math.floor(n/this.columnWidth),n=Math.max(0,n),o=Math.floor(t/this.columnWidth);o-=t%this.columnWidth?0:1;for(var o=Math.min(this.cols-1,o),r=(this._getOption("originTop")?i.top:i.bottom)+e.outerHeight,s=n;s<=o;s++)this.colYs[s]=Math.max(r,this.colYs[s])},t._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},t._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},t.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},e}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){"use strict";return function(n,a){function t(t){if(z)return!0;t=t||window.event,T.timeToIdle&&T.mouseUsed&&!b&&s();for(var e,i,n=(t.target||t.srcElement).getAttribute("class")||"",o=0;o<W.length;o++)(e=W[o]).onTap&&-1<n.indexOf("pswp__"+e.name)&&(e.onTap(),i=!0);i&&(t.stopPropagation&&t.stopPropagation(),z=!0,t=a.features.isOldAndroid?600:30,setTimeout(function(){z=!1},t))}function i(){var t=1===T.getNumItemsFn();t!==C&&(M(p,"ui--one-slide",t),C=t)}function e(){M(v,"share-modal--hidden",D)}function o(){return(D=!D)?(a.removeClass(v,"pswp__share-modal--fade-in"),setTimeout(function(){D&&e()},300)):(e(),setTimeout(function(){D||a.addClass(v,"pswp__share-modal--fade-in")},30)),D||function(){for(var t,e,i,n,o,r="",s=0;s<T.shareButtons.length;s++)t=T.shareButtons[s],i=T.getImageURLForShare(t),n=T.getPageURLForShare(t),o=T.getTextForShare(t),r+='<a href="'+(e=t.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(o)))+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",T.parseShareButtonOut&&(r=T.parseShareButtonOut(t,r));v.children[0].innerHTML=r,v.children[0].onclick=R}(),0}function r(t){for(var e=0;e<T.closeElClasses.length;e++)if(a.hasClass(t,"pswp__"+T.closeElClasses[e]))return!0}function s(){clearTimeout(L),F=0,b&&A.setIdle(!1)}function l(t){(t=(t=t||window.event).relatedTarget||t.toElement)&&"HTML"!==t.nodeName||(clearTimeout(L),L=setTimeout(function(){A.setIdle(!0)},T.timeToIdleOutside))}function u(t){I!==t&&(M(E,"preloader--active",!t),I=t)}function c(t){var e,i=t.vGap;!n.likelyTouchDevice||T.mouseUsed||screen.width>T.fitControlsWidth?(e=T.barsSize,T.captionEl&&"auto"===e.bottom?(m||((m=a.createEl("pswp__caption pswp__caption--fake")).appendChild(a.createEl("pswp__caption__center")),p.insertBefore(m,f),a.addClass(p,"pswp__ui--fit")),T.addCaptionHTMLFn(t,m,!0)?(t=m.clientHeight,i.bottom=parseInt(t,10)||44):i.bottom=e.top):i.bottom="auto"===e.bottom?0:e.bottom,i.top=e.top):i.top=i.bottom=0}function d(){function t(t){if(t)for(var e=t.length,i=0;i<e;i++){o=t[i],r=o.className;for(var n=0;n<W.length;n++)s=W[n],-1<r.indexOf("pswp__"+s.name)&&(T[s.option]?(a.removeClass(o,"pswp__element--disabled"),s.onInit&&s.onInit(o)):a.addClass(o,"pswp__element--disabled"))}}var o,r,s;t(p.children);var e=a.getChildByClass(p,"pswp__top-bar");e&&t(e.children)}var h,p,f,m,g,y,v,w,b,x,E,I,S,C,T,z,_,L,A=this,P=!1,O=!0,D=!0,k={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return n.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return n.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},M=function(t,e,i){a[(i?"add":"remove")+"Class"](t,"pswp__"+e)},R=function(t){var e=(t=t||window.event).target||t.srcElement;return n.shout("shareLinkClick",t,e),!(!e.href||!e.hasAttribute("download")&&(window.open(e.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),D||o(),1))},F=0,W=[{name:"caption",option:"captionEl",onInit:function(t){f=t}},{name:"share-modal",option:"shareEl",onInit:function(t){v=t},onTap:function(){o()}},{name:"button--share",option:"shareEl",onInit:function(t){y=t},onTap:function(){o()}},{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){g=t}},{name:"button--close",option:"closeEl",onTap:n.close},{name:"button--arrow--left",option:"arrowEl",onTap:n.prev},{name:"button--arrow--right",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){h.isFullscreen()?h.exit():h.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){E=t}}];A.init=function(){var e;a.extend(n.options,k,!0),T=n.options,p=a.getChildByClass(n.scrollWrap,"pswp__ui"),(x=n.listen)("onVerticalDrag",function(t){O&&t<.95?A.hideControls():!O&&.95<=t&&A.showControls()}),x("onPinchClose",function(t){O&&t<.9?(A.hideControls(),e=!0):e&&!O&&.9<t&&A.showControls()}),x("zoomGestureEnded",function(){(e=!1)&&!O&&A.showControls()}),x("beforeChange",A.update),x("doubleTap",function(t){var e=n.currItem.initialZoomLevel;n.getZoomLevel()!==e?n.zoomTo(e,t,333):n.zoomTo(T.getDoubleTapZoom(!1,n.currItem),t,333)}),x("preventDragEvent",function(t,e,i){var n=t.target||t.srcElement;n&&n.getAttribute("class")&&-1<t.type.indexOf("mouse")&&(0<n.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),x("bindEvents",function(){a.bind(p,"pswpTap click",t),a.bind(n.scrollWrap,"pswpTap",A.onGlobalTap),n.likelyTouchDevice||a.bind(n.scrollWrap,"mouseover",A.onMouseOver)}),x("unbindEvents",function(){D||o(),_&&clearInterval(_),a.unbind(document,"mouseout",l),a.unbind(document,"mousemove",s),a.unbind(p,"pswpTap click",t),a.unbind(n.scrollWrap,"pswpTap",A.onGlobalTap),a.unbind(n.scrollWrap,"mouseover",A.onMouseOver),h&&(a.unbind(document,h.eventK,A.updateFullscreen),h.isFullscreen()&&(T.hideAnimationDuration=0,h.exit()),h=null)}),x("destroy",function(){T.captionEl&&(m&&p.removeChild(m),a.removeClass(f,"pswp__caption--empty")),v&&(v.children[0].onclick=null),a.removeClass(p,"pswp__ui--over-close"),a.addClass(p,"pswp__ui--hidden"),A.setIdle(!1)}),T.showAnimationDuration||a.removeClass(p,"pswp__ui--hidden"),x("initialZoomIn",function(){T.showAnimationDuration&&a.removeClass(p,"pswp__ui--hidden")}),x("initialZoomOut",function(){a.addClass(p,"pswp__ui--hidden")}),x("parseVerticalMargin",c),d(),T.shareEl&&y&&v&&(D=!0),i(),T.timeToIdle&&x("mouseUsed",function(){a.bind(document,"mousemove",s),a.bind(document,"mouseout",l),_=setInterval(function(){2===++F&&A.setIdle(!0)},T.timeToIdle/2)}),T.fullscreenEl&&!a.features.isOldAndroid&&((h=h||A.getFullscreenAPI())?(a.bind(document,h.eventK,A.updateFullscreen),A.updateFullscreen(),a.addClass(n.template,"pswp--supports-fs")):a.removeClass(n.template,"pswp--supports-fs")),T.preloaderEl&&(u(!0),x("beforeChange",function(){clearTimeout(S),S=setTimeout(function(){n.currItem&&n.currItem.loading?n.allowProgressiveImg()&&(!n.currItem.img||n.currItem.img.naturalWidth)||u(!1):u(!0)},T.loadingIndicatorDelay)}),x("imageLoadComplete",function(t,e){n.currItem===e&&u(!0)}))},A.setIdle=function(t){M(p,"ui--idle",b=t)},A.update=function(){P=!(!O||!n.currItem)&&(A.updateIndexIndicator(),T.captionEl&&(T.addCaptionHTMLFn(n.currItem,f),M(f,"caption--empty",!n.currItem.title)),!0),D||o(),i()},A.updateFullscreen=function(t){t&&setTimeout(function(){n.setScrollOffset(0,a.getScrollY())},50),a[(h.isFullscreen()?"add":"remove")+"Class"](n.template,"pswp--fs")},A.updateIndexIndicator=function(){T.counterEl&&(g.innerHTML=n.getCurrentIndex()+1+T.indexIndicatorSep+T.getNumItemsFn())},A.onGlobalTap=function(t){var e=(t=t||window.event).target||t.srcElement;if(!z)if(t.detail&&"mouse"===t.detail.pointerType)r(e)?n.close():a.hasClass(e,"pswp__img")&&(1===n.getZoomLevel()&&n.getZoomLevel()<=n.currItem.fitRatio?T.clickToCloseNonZoomable&&n.close():n.toggleDesktopZoom(t.detail.releasePoint));else if(T.tapToToggleControls&&(O?A.hideControls():A.showControls()),T.tapToClose&&(a.hasClass(e,"pswp__img")||r(e)))return void n.close()},A.onMouseOver=function(t){t=(t=t||window.event).target||t.srcElement;M(p,"ui--over-close",r(t))},A.hideControls=function(){a.addClass(p,"pswp__ui--hidden"),O=!1},A.showControls=function(){O=!0,P||A.update(),a.removeClass(p,"pswp__ui--hidden")},A.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},A.getFullscreenAPI=function(){var t,e=document.documentElement,i="fullscreenchange";return e.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:e.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:e.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:e.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return w=T.closeOnScroll,T.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?n.template[this.enterK]():void n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return T.closeOnScroll=w,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){"use strict";return function(h,i,t,e){var p={features:null,bind:function(t,e,i,n){var o=(n?"remove":"add")+"EventListener";e=e.split(" ");for(var r=0;r<e.length;r++)e[r]&&t[o](e[r],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){e=document.createElement(e||"div");return t&&(e.className=t),e},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){p.bind(t,e,i,!0)},removeClass:function(t,e){e=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(e," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){p.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(p.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var n=t.length;n--;)if(t[n][i]===e)return n;return-1},extend:function(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&t.hasOwnProperty(n))continue;t[n]=e[n]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(p.features)return p.features;var t,e,i=p.createEl().style,n="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,o.pointerEvent||(t=navigator.userAgent,!/iP(hone|od)/.test(navigator.platform)||(e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<e.length&&(1<=(e=parseInt(e[1],10))&&e<8&&(o.isOldIOSPhone=!0)),e=(e=t.match(/Android\s([0-9\.]*)/))?e[1]:0,1<=(e=parseFloat(e))&&(e<4.4&&(o.isOldAndroid=!0),o.androidVersion=e),o.isMobileOpera=/opera mini|opera mobi/i.test(t));for(var r,s,a,l=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],c=0;c<4;c++){for(var n=u[c],d=0;d<3;d++)r=l[d],s=n+(n?r.charAt(0).toUpperCase()+r.slice(1):r),!o[r]&&s in i&&(o[r]=s);n&&!o.raf&&(n=n.toLowerCase(),o.raf=window[n+"RequestAnimationFrame"],o.raf&&(o.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}return o.raf||(a=0,o.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-a)),n=window.setTimeout(function(){t(e+i)},i);return a=e+i,n},o.caf=function(t){clearTimeout(t)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p.features=o}};p.detectFeatures(),p.features.oldIE&&(p.bind=function(t,e,i,n){e=e.split(" ");for(var o,r=(n?"detach":"attach")+"Event",s=function(){i.handleEvent.call(i)},a=0;a<e.length;a++)if(o=e[a])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=s;t[r]("on"+o,i["oldIE"+o])}else t[r]("on"+o,i)});var f=this,r=25,m={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t||e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};p.extend(m,e);function n(){return{x:0,y:0}}function o(t,e){p.extend(f,e.publicMethods),At.push(t)}function s(t){var e=Qe();return e-1<t?t-e:t<0?e+t:t}function a(t,e){return Dt[t]||(Dt[t]=[]),Dt[t].push(e)}function l(t,e,i,n){return n===f.currItem.initialZoomLevel?(i[t]=f.currItem.initialPosition[t],!0):(i[t]=jt(t,n),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]&&(i[t]=e.max[t],!0))}function u(t){var e="";m.escKey&&27===t.keyCode?e="close":m.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,f[e]()))}function c(t){t&&(st||rt||ft||et)&&(t.preventDefault(),t.stopPropagation())}function d(){f.setScrollOffset(0,p.getScrollY())}function g(t){var e;"mousedown"===t.type&&0<t.button||($e?t.preventDefault():it&&"mousedown"===t.type||(Te(t,!0)&&t.preventDefault(),kt("pointerDown"),N&&((e=p.arraySearch(ue,t.pointerId,"id"))<0&&(e=ue.length),ue[e]={x:t.pageX,y:t.pageY,id:t.pointerId}),t=(e=ke(t)).length,ut=null,te(),nt&&1!==t||(nt=gt=!0,p.bind(window,C,f),tt=wt=yt=et=lt=st=ot=rt=!1,mt=null,kt("firstTouchStart",e),Bt(Et,It),xt.x=xt.y=0,Bt(ae,e[0]),Bt(le,ae),ce.x=zt.x*Ct,de=[{x:ae.x,y:ae.y}],X=V=Mt(),Gt(_,!0),xe(),Ee()),!ct&&1<t&&!ft&&!lt&&(L=_,ct=ot=!(rt=!1),xt.y=xt.x=0,Bt(Et,It),Bt(oe,e[0]),Bt(re,e[1]),_e(oe,re,ve),ye.x=Math.abs(ve.x)-It.x,ye.y=Math.abs(ve.y)-It.y,dt=be(oe,re))))}function y(t){var e,i;t.preventDefault(),N&&-1<(e=p.arraySearch(ue,t.pointerId,"id"))&&((i=ue[e]).x=t.pageX,i.y=t.pageY),nt&&(i=ke(t),mt||st||ct?ut=i:ge.x!==zt.x*Ct?mt="h":(t=Math.abs(i[0].x-ae.x)-Math.abs(i[0].y-ae.y),Math.abs(t)>=ne&&(mt=0<t?"h":"v",ut=i)))}function v(t){if(K.isOldAndroid){if(it&&"mouseup"===t.type)return;-1<t.type.indexOf("touch")&&(clearTimeout(it),it=setTimeout(function(){it=0},600))}kt("pointerUp"),Te(t,!1)&&t.preventDefault(),!N||-1<(i=p.arraySearch(ue,t.pointerId,"id"))&&(r=ue.splice(i,1)[0],navigator.msPointerEnabled?(r.type={4:"mouse",2:"touch",3:"pen"}[t.pointerType],r.type||(r.type=t.pointerType||"mouse")):r.type=t.pointerType||"mouse");var e=ke(t),i=e.length;if(2===(i="mouseup"===t.type?0:i))return!(ut=null);1===i&&Bt(le,e[0]),0!==i||mt||ft||(r||("mouseup"===t.type?r={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(r={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),kt("touchRelease",t,r));var n,o,r=-1;if(0===i&&(nt=!1,p.unbind(window,C,f),xe(),ct?r=0:-1!==me&&(r=Mt()-me)),me=1===i?Mt():-1,r=-1!==r&&r<150?"zoom":"swipe",ct&&i<2&&(ct=!1,1===i&&(r="zoomPointerUp"),kt("zoomGestureEnded")),ut=null,st||rt||ft||et)if(te(),(J=J||Fe()).calculateSwipeSpeed("x"),et)Ae()<m.verticalDragRange?f.close():(n=It.y,o=vt,ee("verticalDrag",0,1,300,p.easing.cubic.out,function(t){It.y=(f.currItem.initialPosition.y-n)*t+n,Rt((1-o)*t+o),Wt()}),kt("onVerticalDrag",1));else{if((lt||ft)&&0===i){if(He(r,J))return;r="zoomPointerUp"}if(!ft)return"swipe"!==r?void Ne():void(!lt&&_>f.currItem.fitRatio&&We(J))}}var w,b,x,E,I,S,C,T,z,_,L,A,P,O,D,k,M,R,F,W,H,q,N,j,B,U,Z,Y,G,$,K,Q,V,X,J,tt,et,it,nt,ot,rt,st,at,lt,ut,ct,dt,ht,pt,ft,mt,gt,yt,vt,wt,bt,xt=n(),Et=n(),It=n(),St={},Ct=0,Tt={},zt=n(),_t=0,Lt=!0,At=[],Pt={},Ot=!1,Dt={},kt=function(t){var e=Dt[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(f,i)}},Mt=function(){return(new Date).getTime()},Rt=function(t){vt=t,f.bg.style.opacity=t*m.bgOpacity},Ft=function(t,e,i,n,o){(!Ot||o&&o!==f.currItem)&&(n/=(o||f.currItem).fitRatio),t[q]=A+e+"px, "+i+"px"+P+" scale("+n+")"},Wt=function(t){pt&&(t&&(_>f.currItem.fitRatio?Ot||(ri(f.currItem,!1,!0),Ot=!0):Ot&&(ri(f.currItem),Ot=!1)),Ft(pt,It.x,It.y,_))},Ht=function(t){t.container&&Ft(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},qt=function(t,e){e[q]=A+t+"px, 0px"+P},Nt=function(t,e){var i;!m.loop&&e&&(i=E+(zt.x*Ct-t)/zt.x,e=Math.round(t-ge.x),(i<0&&0<e||i>=Qe()-1&&e<0)&&(t=ge.x+e*m.mainScrollEndFriction)),ge.x=t,qt(t,I)},jt=function(t,e){var i=ye[t]-Tt[t];return Et[t]+xt[t]+i-e/L*i},Bt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Ut=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Zt=null,Yt=function(){Zt&&(p.unbind(document,"mousemove",Yt),p.addClass(h,"pswp--has_mouse"),m.mouseUsed=!0,kt("mouseUsed")),Zt=setTimeout(function(){Zt=null},100)},Gt=function(t,e){t=ni(f.currItem,St,t);return e&&(ht=t),t},$t=function(t){return(t=t||f.currItem).initialZoomLevel},Kt=function(t){return 0<(t=t||f.currItem).w?m.maxSpreadZoom:1},Qt={},Vt=0,Xt=function(t){Qt[t]&&(Qt[t].raf&&U(Qt[t].raf),Vt--,delete Qt[t])},Jt=function(t){Qt[t]&&Xt(t),Qt[t]||(Vt++,Qt[t]={})},te=function(){for(var t in Qt)Qt.hasOwnProperty(t)&&Xt(t)},ee=function(t,e,i,n,o,r,s){var a,l=Mt();Jt(t);function u(){if(Qt[t]){if(a=Mt()-l,n<=a)return Xt(t),r(i),void(s&&s());r((i-e)*o(a/n)+e),Qt[t].raf=B(u)}}u()},e={shout:kt,listen:a,viewportSize:St,options:m,isMainScrollAnimating:function(){return ft},getZoomLevel:function(){return _},getCurrentIndex:function(){return E},isDragging:function(){return nt},isZooming:function(){return ct},setScrollOffset:function(t,e){Tt.x=t,$=Tt.y=e,kt("updateScrollOffset",Tt)},applyZoomPan:function(t,e,i,n){It.x=e,It.y=i,_=t,Wt(n)},init:function(){if(!w&&!b){var t;f.framework=p,f.template=h,f.bg=p.getChildByClass(h,"pswp__bg"),Z=h.className,w=!0,K=p.detectFeatures(),B=K.raf,U=K.caf,q=K.transform,G=K.oldIE,f.scrollWrap=p.getChildByClass(h,"pswp__scroll-wrap"),f.container=p.getChildByClass(f.scrollWrap,"pswp__container"),I=f.container.style,f.itemHolders=k=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],k[0].el.style.display=k[2].el.style.display="none",function(){if(q){var t=K.perspective&&!j;return A="translate"+(t?"3d(":"("),P=K.perspective?", 0px)":")"}q="left",p.addClass(h,"pswp--ie"),qt=function(t,e){e.left=t+"px"},Ht=function(t){var e=1<t.fitRatio?1:t.fitRatio,i=t.container.style,n=e*t.w,e=e*t.h;i.width=n+"px",i.height=e+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},Wt=function(){var t,e,i,n;pt&&(t=pt,i=(e=1<(n=f.currItem).fitRatio?1:n.fitRatio)*n.w,n=e*n.h,t.width=i+"px",t.height=n+"px",t.left=It.x+"px",t.top=It.y+"px")}}(),z={resize:f.updateSize,orientationchange:function(){clearTimeout(Q),Q=setTimeout(function(){St.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:d,keydown:u,click:c};var e=K.isOldIOSPhone||K.isOldAndroid||K.isMobileOpera;for(K.animationName&&K.transform&&!e||(m.showAnimationDuration=m.hideAnimationDuration=0),t=0;t<At.length;t++)f["init"+At[t]]();i&&(f.ui=new i(f,p)).init(),kt("firstUpdate"),E=E||m.index||0,(isNaN(E)||E<0||E>=Qe())&&(E=0),f.currItem=Ke(E),(K.isOldIOSPhone||K.isOldAndroid)&&(Lt=!1),h.setAttribute("aria-hidden","false"),m.modal&&(Lt?h.style.position="fixed":(h.style.position="absolute",h.style.top=p.getScrollY()+"px")),void 0===$&&(kt("initialLayout"),$=Y=p.getScrollY());e="pswp--open ";for(m.mainClass&&(e+=m.mainClass+" "),m.showHideOpacity&&(e+="pswp--animate_opacity "),e+=j?"pswp--touch":"pswp--notouch",e+=K.animationName?" pswp--css_animation":"",e+=K.svg?" pswp--svg":"",p.addClass(h,e),f.updateSize(),S=-1,_t=null,t=0;t<3;t++)qt((t+S)*zt.x,k[t].el.style);G||p.bind(f.scrollWrap,T,f),a("initialZoomInEnd",function(){f.setContent(k[0],E-1),f.setContent(k[2],E+1),k[0].el.style.display=k[2].el.style.display="block",m.focus&&h.focus(),p.bind(document,"keydown",f),K.transform&&p.bind(f.scrollWrap,"click",f),m.mouseUsed||p.bind(document,"mousemove",Yt),p.bind(window,"resize scroll orientationchange",f),kt("bindEvents")}),f.setContent(k[1],E),f.updateCurrItem(),kt("afterInit"),Lt||(O=setInterval(function(){Vt||nt||ct||_!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),p.addClass(h,"pswp--visible")}},close:function(){w&&(b=!(w=!1),kt("close"),p.unbind(window,"resize scroll orientationchange",f),p.unbind(window,"scroll",z.scroll),p.unbind(document,"keydown",f),p.unbind(document,"mousemove",Yt),K.transform&&p.unbind(f.scrollWrap,"click",f),nt&&p.unbind(window,C,f),clearTimeout(Q),kt("unbindEvents"),Ve(f.currItem,null,!0,f.destroy))},destroy:function(){kt("destroy"),Ze&&clearTimeout(Ze),h.setAttribute("aria-hidden","true"),h.className=Z,O&&clearInterval(O),p.unbind(f.scrollWrap,T,f),p.unbind(window,"scroll",f),xe(),te(),Dt=null},panTo:function(t,e,i){i||(t>ht.min.x?t=ht.min.x:t<ht.max.x&&(t=ht.max.x),e>ht.min.y?e=ht.min.y:e<ht.max.y&&(e=ht.max.y)),It.x=t,It.y=e,Wt()},handleEvent:function(t){t=t||window.event,z[t.type]&&z[t.type](t)},goTo:function(t){var e=(t=s(t))-E;_t=e,E=t,f.currItem=Ke(E),Ct-=e,Nt(zt.x*Ct),te(),ft=!1,f.updateCurrItem()},next:function(){f.goTo(E+1)},prev:function(){f.goTo(E-1)},updateCurrZoomItem:function(t){var e;t&&kt("beforeChange",0),pt=k[1].el.children.length?(e=k[1].el.children[0],p.hasClass(e,"pswp__zoom-wrap")?e.style:null):null,ht=f.currItem.bounds,L=_=f.currItem.initialZoomLevel,It.x=ht.center.x,It.y=ht.center.y,t&&kt("afterChange")},invalidateCurrItems:function(){D=!0;for(var t=0;t<3;t++)k[t].item&&(k[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==_t){var e,i=Math.abs(_t);if(!(t&&i<2)){f.currItem=Ke(E),Ot=!1,kt("beforeChange",_t),3<=i&&(S+=_t+(0<_t?-3:3),i=3);for(var n=0;n<i;n++)0<_t?(e=k.shift(),k[2]=e,qt((++S+2)*zt.x,e.el.style),f.setContent(e,E-i+n+1+1)):(e=k.pop(),k.unshift(e),qt(--S*zt.x,e.el.style),f.setContent(e,E+i-n-1-1));!pt||1!==Math.abs(_t)||(t=Ke(M)).initialZoomLevel!==_&&(ni(t,St),ri(t),Ht(t)),_t=0,f.updateCurrZoomItem(),M=E,kt("afterChange")}}},updateSize:function(t){if(!Lt&&m.modal){var e=p.getScrollY();if($!==e&&(h.style.top=e+"px",$=e),!t&&Pt.x===window.innerWidth&&Pt.y===window.innerHeight)return;Pt.x=window.innerWidth,Pt.y=window.innerHeight,h.style.height=Pt.y+"px"}if(St.x=f.scrollWrap.clientWidth,St.y=f.scrollWrap.clientHeight,d(),zt.x=St.x+Math.round(St.x*m.spacing),zt.y=St.y,Nt(zt.x*Ct),kt("beforeResize"),void 0!==S){for(var i,n,o,r=0;r<3;r++)i=k[r],qt((r+S)*zt.x,i.el.style),o=E+r-1,m.loop&&2<Qe()&&(o=s(o)),(n=Ke(o))&&(D||n.needsUpdate||!n.bounds)?(f.cleanSlide(n),f.setContent(i,o),1===r&&(f.currItem=n,f.updateCurrZoomItem(!0)),n.needsUpdate=!1):-1===i.index&&0<=o&&f.setContent(i,o),n&&n.container&&(ni(n,St),ri(n),Ht(n));D=!1}L=_=f.currItem.initialZoomLevel,(ht=f.currItem.bounds)&&(It.x=ht.center.x,It.y=ht.center.y,Wt(!0)),kt("resize")},zoomTo:function(e,t,i,n,o){t&&(L=_,ye.x=Math.abs(t.x)-It.x,ye.y=Math.abs(t.y)-It.y,Bt(Et,It));var t=Gt(e,!1),r={};l("x",t,r,e),l("y",t,r,e);var s=_,a={x:It.x,y:It.y};Ut(r);t=function(t){1===t?(_=e,It.x=r.x,It.y=r.y):(_=(e-s)*t+s,It.x=(r.x-a.x)*t+a.x,It.y=(r.y-a.y)*t+a.y),o&&o(t),Wt(1===t)};i?ee("customZoomTo",0,1,i,n||p.easing.sine.inOut,t):t(1)}},ie=30,ne=10,oe={},re={},se={},ae={},le={},ue=[],ce={},de=[],he={},pe=0,fe=n(),me=0,ge=n(),ye=n(),ve=n(),we=function(t,e){return t.x===e.x&&t.y===e.y},be=function(t,e){return he.x=Math.abs(t.x-e.x),he.y=Math.abs(t.y-e.y),Math.sqrt(he.x*he.x+he.y*he.y)},xe=function(){at&&(U(at),at=null)},Ee=function(){nt&&(at=B(Ee),Re())},Ie=function(){return!("fit"===m.scaleMode&&_===f.currItem.initialZoomLevel)},Se=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&-1<t.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(e(t)?t:Se(t.parentNode,e))},Ce={},Te=function(t,e){return Ce.prevent=!Se(t.target,m.isClickableElement),kt("preventDragEvent",t,e,Ce),Ce.prevent},ze=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},_e=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},Le=function(t,e,i){var n;50<t-X&&((n=2<de.length?de.shift():{}).x=e,n.y=i,de.push(n),X=t)},Ae=function(){var t=It.y-f.currItem.initialPosition.y;return 1-Math.abs(t/(St.y/2))},Pe={},Oe={},De=[],ke=function(t){for(;0<De.length;)De.pop();return N?(bt=0,ue.forEach(function(t){0===bt?De[0]=t:1===bt&&(De[1]=t),bt++})):-1<t.type.indexOf("touch")?t.touches&&0<t.touches.length&&(De[0]=ze(t.touches[0],Pe),1<t.touches.length&&(De[1]=ze(t.touches[1],Oe))):(Pe.x=t.pageX,Pe.y=t.pageY,Pe.id="",De[0]=Pe),De},Me=function(t,e){var i,n,o,r=It[t]+e[t],s=0<e[t],a=ge.x+e.x,l=ge.x-ce.x,u=r>ht.min[t]||r<ht.max[t]?m.panEndFriction:1,r=It[t]+e[t]*u;return!m.allowPanToNext&&_!==f.currItem.initialZoomLevel||(pt?"h"!==mt||"x"!==t||rt||(s?(r>ht.min[t]&&(u=m.panEndFriction,ht.min[t],i=ht.min[t]-Et[t]),(i<=0||l<0)&&1<Qe()?(o=a,l<0&&a>ce.x&&(o=ce.x)):ht.min.x!==ht.max.x&&(n=r)):(r<ht.max[t]&&(u=m.panEndFriction,ht.max[t],i=Et[t]-ht.max[t]),(i<=0||0<l)&&1<Qe()?(o=a,0<l&&a<ce.x&&(o=ce.x)):ht.min.x!==ht.max.x&&(n=r))):o=a,"x"!==t)?void(ft||lt||_>f.currItem.fitRatio&&(It[t]+=e[t]*u)):(void 0!==o&&(Nt(o,!0),lt=o!==ce.x),ht.min.x!==ht.max.x&&(void 0!==n?It.x=n:lt||(It.x+=e.x*u)),void 0!==o)},Re=function(){if(ut){var t,e,i,n,o=ut.length;if(0!==o)if(Bt(oe,ut[0]),se.x=oe.x-ae.x,se.y=oe.y-ae.y,ct&&1<o)ae.x=oe.x,ae.y=oe.y,!se.x&&!se.y&&we(ut[1],re)||(Bt(re,ut[1]),rt||(rt=!0,kt("zoomGestureStarted")),t=be(oe,re),(r=qe(t))>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(wt=!0),e=1,i=$t(),n=Kt(),r<i?m.pinchToClose&&!wt&&L<=f.currItem.initialZoomLevel?(Rt(o=1-(i-r)/(i/1.2)),kt("onPinchClose",o),yt=!0):r=i-(e=1<(e=(i-r)/i)?1:e)*(i/3):n<r&&(r=n+(e=1<(e=(r-n)/(6*i))?1:e)*i),e<0&&(e=0),_e(oe,re,fe),xt.x+=fe.x-ve.x,xt.y+=fe.y-ve.y,Bt(ve,fe),It.x=jt("x",r),It.y=jt("y",r),tt=_<r,_=r,Wt());else if(mt&&(gt&&(gt=!1,Math.abs(se.x)>=ne&&(se.x-=ut[0].x-le.x),Math.abs(se.y)>=ne&&(se.y-=ut[0].y-le.y)),ae.x=oe.x,ae.y=oe.y,0!==se.x||0!==se.y)){if("v"===mt&&m.closeOnVerticalDrag&&!Ie()){xt.y+=se.y,It.y+=se.y;var r=Ae();return et=!0,kt("onVerticalDrag",r),Rt(r),void Wt()}Le(Mt(),oe.x,oe.y),st=!0,ht=f.currItem.bounds,Me("x",se)||(Me("y",se),Ut(It),Wt())}}},Fe=function(){var e,i,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(t){i=1<de.length?(e=Mt()-X+50,de[de.length-2][t]):(e=Mt()-V,le[t]),n.lastFlickOffset[t]=ae[t]-i,n.lastFlickDist[t]=Math.abs(n.lastFlickOffset[t]),20<n.lastFlickDist[t]?n.lastFlickSpeed[t]=n.lastFlickOffset[t]/e:n.lastFlickSpeed[t]=0,Math.abs(n.lastFlickSpeed[t])<.1&&(n.lastFlickSpeed[t]=0),n.slowDownRatio[t]=.95,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatio[t]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(It[e]>ht.min[e]?n.backAnimDestination[e]=ht.min[e]:It[e]<ht.max[e]&&(n.backAnimDestination[e]=ht.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,ee("bounceZoomPan"+e,It[e],n.backAnimDestination[e],t||300,p.easing.sine.out,function(t){It[e]=t,Wt()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,It[t]+=n.distanceOffset[t])},panAnimLoop:function(){if(Qt.zoomPan&&(Qt.zoomPan.raf=B(n.panAnimLoop),n.now=Mt(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Wt(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return It.x=Math.round(It.x),It.y=Math.round(It.y),Wt(),void Xt("zoomPan")}};return n},We=function(t){return t.calculateSwipeSpeed("y"),ht=f.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(Jt("zoomPan"),t.lastNow=Mt(),void t.panAnimLoop())},He=function(t,e){var i,n;ft||(pe=E),"swipe"===t&&(n=ae.x-le.x,t=e.lastFlickDist.x<10,ie<n&&(t||20<e.lastFlickOffset.x)?r=-1:n<-ie&&(t||e.lastFlickOffset.x<-20)&&(r=1)),r&&((E+=r)<0?(E=m.loop?Qe()-1:0,o=!0):E>=Qe()&&(E=m.loop?0:Qe()-1,o=!0),o&&!m.loop||(_t+=r,Ct-=r,i=!0));var o=zt.x*Ct,r=Math.abs(o-ge.x),s=i||o>ge.x==0<e.lastFlickSpeed.x?(s=0<Math.abs(e.lastFlickSpeed.x)?r/Math.abs(e.lastFlickSpeed.x):333,s=Math.min(s,400),Math.max(s,250)):333;return pe===E&&(i=!1),ft=!0,kt("mainScrollAnimStart"),ee("mainScroll",ge.x,o,s,p.easing.cubic.out,Nt,function(){te(),ft=!1,pe=-1,!i&&pe===E||f.updateCurrItem(),kt("mainScrollAnimComplete")}),i&&f.updateCurrItem(!0),i},qe=function(t){return 1/dt*t*L},Ne=function(){var t=_,e=$t(),i=Kt();_<e?t=e:i<_&&(t=i);var n,o=vt;return yt&&!tt&&!wt&&_<e?f.close():(yt&&(n=function(t){Rt((1-o)*t+o)}),f.zoomTo(t,0,200,p.easing.cubic.out,n)),!0};o("Gestures",{publicMethods:{initGestures:function(){function t(t,e,i,n,o){R=t+e,F=t+i,W=t+n,H=o?t+o:""}(N=K.pointerEvent)&&K.touch&&(K.touch=!1),N?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):K.touch?(t("touch","start","move","end","cancel"),j=!0):t("mouse","down","move","up"),C=F+" "+W+" "+H,T=R,N&&!j&&(j=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=j,z[R]=g,z[F]=y,z[W]=v,H&&(z[H]=z[W]),K.touch&&(T+=" mousedown",C+=" mousemove mouseup",z.mousedown=z[R],z.mousemove=z[F],z.mouseup=z[W]),j||(m.allowPanToNext=!1)}}});function je(t){function e(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,i.onload=i.onerror=null,i=null}t.loading=!0,t.loaded=!1;var i=t.img=p.createEl("pswp__img","img");return i.onload=e,i.onerror=function(){t.loadError=!0,e()},i.src=t.src,i}function Be(t,e){return t.src&&t.loadError&&t.container&&(e&&(t.container.innerHTML=""),t.container.innerHTML=m.errorMsg.replace("%url%",t.src),1)}function Ue(){if(Je.length){for(var t,e=0;e<Je.length;e++)(t=Je[e]).holder.index===t.index&&oi(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);Je=[]}}var Ze,Ye,Ge,$e,Ke,Qe,Ve=function(r,t,s,e){var a;Ze&&clearTimeout(Ze),Ge=$e=!0,r.initialLayout?(a=r.initialLayout,r.initialLayout=null):a=m.getThumbBoundsFn&&m.getThumbBoundsFn(E);function l(){Xt("initialZoom"),s?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Rt(1),t&&(t.style.display="block"),p.addClass(h,"pswp--animated-in"),kt("initialZoom"+(s?"OutEnd":"InEnd"))),e&&e(),$e=!1}var u=s?m.hideAnimationDuration:m.showAnimationDuration;if(!u||!a||void 0===a.x)return kt("initialZoom"+(s?"Out":"In")),_=r.initialZoomLevel,Bt(It,r.initialPosition),Wt(),h.style.opacity=s?0:1,Rt(1),void(u?setTimeout(function(){l()},u):l());var c,d;c=x,d=!f.currItem.src||f.currItem.loadError||m.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),s||(_=a.w/r.w,It.x=a.x,It.y=a.y-Y,f[d?"template":"bg"].style.opacity=.001,Wt()),Jt("initialZoom"),s&&!c&&p.removeClass(h,"pswp--animated-in"),d&&(s?p[(c?"remove":"add")+"Class"](h,"pswp--animate_opacity"):setTimeout(function(){p.addClass(h,"pswp--animate_opacity")},30)),Ze=setTimeout(function(){var e,i,n,o,t;kt("initialZoom"+(s?"Out":"In")),s?(e=a.w/r.w,i={x:It.x,y:It.y},n=_,o=vt,t=function(t){1===t?(_=e,It.x=a.x,It.y=a.y-$):(_=(e-n)*t+n,It.x=(a.x-i.x)*t+i.x,It.y=(a.y-$-i.y)*t+i.y),Wt(),d?h.style.opacity=1-t:Rt(o-t*o)},c?ee("initialZoom",0,1,u,p.easing.cubic.out,t,l):(t(1),Ze=setTimeout(l,u+20))):(_=r.initialZoomLevel,Bt(It,r.initialPosition),Wt(),Rt(1),d?h.style.opacity=1:Rt(1),Ze=setTimeout(l,u+20))},s?25:90)},Xe={},Je=[],ti={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ye.length}},ei=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ii=function(t,e,i){var n=t.bounds;n.center.x=Math.round((Xe.x-e)/2),n.center.y=Math.round((Xe.y-i)/2)+t.vGap.top,n.max.x=e>Xe.x?Math.round(Xe.x-e):n.center.x,n.max.y=i>Xe.y?Math.round(Xe.y-i)+t.vGap.top:n.center.y,n.min.x=e>Xe.x?0:n.center.x,n.min.y=i>Xe.y?t.vGap.top:n.center.y},ni=function(t,e,i){if(!t.src||t.loadError)return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=ei(),t.initialPosition=t.bounds.center,t.bounds;var n,o=!i;return o&&(t.vGap||(t.vGap={top:0,bottom:0}),kt("parseVerticalMargin",t)),Xe.x=e.x,Xe.y=e.y-t.vGap.top-t.vGap.bottom,o&&(n=Xe.x/t.w,e=Xe.y/t.h,t.fitRatio=n<e?n:e,"orig"===(e=m.scaleMode)?i=1:"fit"===e&&(i=t.fitRatio),t.initialZoomLevel=i=1<i?1:i,t.bounds||(t.bounds=ei())),i?(ii(t,t.w*i,t.h*i),o&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds):void 0},oi=function(t,e,i,n,o,r){e.loadError||n&&(e.imageAppended=!0,ri(e,n,e===f.currItem&&Ot),i.appendChild(n),r&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},ri=function(t,e,i){var n;t.src&&(e=e||t.container.lastChild,n=i?t.w:Math.round(t.w*t.fitRatio),i=i?t.h:Math.round(t.h*t.fitRatio),t.placeholder&&!t.loaded&&(t.placeholder.style.width=n+"px",t.placeholder.style.height=i+"px"),e.style.width=n+"px",e.style.height=i+"px")};o("Controller",{publicMethods:{lazyLoadItem:function(t){t=s(t);var e=Ke(t);e&&(!e.loaded&&!e.loading||D)&&(kt("gettingData",t,e),e.src&&je(e))},initController:function(){p.extend(m,ti,!0),f.items=Ye=t,Ke=f.getItemAt,Qe=m.getNumItemsFn,m.loop,Qe()<3&&(m.loop=!1),a("beforeChange",function(t){for(var e=m.preload,i=null===t||0<=t,n=Math.min(e[0],Qe()),o=Math.min(e[1],Qe()),r=1;r<=(i?o:n);r++)f.lazyLoadItem(E+r);for(r=1;r<=(i?n:o);r++)f.lazyLoadItem(E-r)}),a("initialLayout",function(){f.currItem.initialLayout=m.getThumbBoundsFn&&m.getThumbBoundsFn(E)}),a("mainScrollAnimComplete",Ue),a("initialZoomInEnd",Ue),a("destroy",function(){for(var t,e=0;e<Ye.length;e++)(t=Ye[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);Je=null})},getItemAt:function(t){return 0<=t&&void 0!==Ye[t]&&Ye[t]},allowProgressiveImg:function(){return m.forceProgressiveLoading||!j||m.mouseUsed||1200<screen.width},setContent:function(e,i){m.loop&&(i=s(i));var t=f.getItemAt(e.index);t&&(t.container=null);var n,o,r=f.getItemAt(i);r?(kt("gettingData",i,r),e.index=i,o=(e.item=r).container=p.createEl("pswp__zoom-wrap"),!r.src&&r.html&&(r.html.tagName?o.appendChild(r.html):o.innerHTML=r.html),Be(r),ni(r,St),!r.src||r.loadError||r.loaded?r.src&&!r.loadError&&((n=p.createEl("pswp__img","img")).style.opacity=1,n.src=r.src,ri(r,n),oi(i,r,o,n,!0)):(r.loadComplete=function(t){if(w){if(e&&e.index===i){if(Be(t,!0))return t.loadComplete=t.img=null,ni(t,St),Ht(t),void(e.index===E&&f.updateCurrZoomItem());t.imageAppended?!$e&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null):K.transform&&(ft||$e)?Je.push({item:t,baseDiv:o,img:t.img,index:i,holder:e,clearPlaceholder:!0}):oi(i,t,o,t.img,ft||$e,!0)}t.loadComplete=null,t.img=null,kt("imageLoadComplete",i,t)}},p.features.transform&&(t="pswp__img pswp__img--placeholder",t+=r.msrc?"":" pswp__img--placeholder--blank",t=p.createEl(t,r.msrc?"img":""),r.msrc&&(t.src=r.msrc),ri(r,t),o.appendChild(t),r.placeholder=t),r.loading||je(r),f.allowProgressiveImg()&&(!Ge&&K.transform?Je.push({item:r,baseDiv:o,img:r.img,index:i,holder:e}):oi(i,r,o,r.img,!0,!0))),Ge||i!==E?Ht(r):(pt=o.style,Ve(r,n||r.img)),e.el.innerHTML="",e.el.appendChild(o)):e.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});function si(t,e,i){var n=document.createEvent("CustomEvent"),i={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,i),t.target.dispatchEvent(n)}var ai,li,ui={};o("Tap",{publicMethods:{initTap:function(){a("firstTouchStart",f.onTapStart),a("touchRelease",f.onTapRelease),a("destroy",function(){ui={},ai=null})},onTapStart:function(t){1<t.length&&(clearTimeout(ai),ai=null)},onTapRelease:function(t,e){var i,n,o;!e||st||ot||Vt||(i=e,ai&&(clearTimeout(ai),ai=null,n=i,o=ui,Math.abs(n.x-o.x)<r&&Math.abs(n.y-o.y)<r)?kt("doubleTap",i):"mouse"!==e.type?"BUTTON"===t.target.tagName.toUpperCase()||p.hasClass(t.target,"pswp__single-tap")?si(t,e):(Bt(ui,i),ai=setTimeout(function(){si(t,e),ai=null},300)):si(t,e,"mouse"))}}}),o("DesktopZoom",{publicMethods:{initDesktopZoom:function(){G||(j?a("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(t){li={};var e="wheel mousewheel DOMMouseScroll";a("bindEvents",function(){p.bind(h,e,f.handleMouseWheel)}),a("unbindEvents",function(){li&&p.unbind(h,e,f.handleMouseWheel)}),f.mouseZoomedIn=!1;function i(){f.mouseZoomedIn&&(p.removeClass(h,"pswp--zoomed-in"),f.mouseZoomedIn=!1),_<1?p.addClass(h,"pswp--zoom-allowed"):p.removeClass(h,"pswp--zoom-allowed"),o()}var n,o=function(){n&&(p.removeClass(h,"pswp--dragging"),n=!1)};a("resize",i),a("afterChange",i),a("pointerDown",function(){f.mouseZoomedIn&&(n=!0,p.addClass(h,"pswp--dragging"))}),a("pointerUp",o),t||i()},handleMouseWheel:function(t){if(_<=f.currItem.fitRatio)return m.modal&&(!m.closeOnScroll||Vt||nt?t.preventDefault():q&&2<Math.abs(t.deltaY)&&(x=!0,f.close())),!0;if(t.stopPropagation(),li.x=0,"deltaX"in t)1===t.deltaMode?(li.x=18*t.deltaX,li.y=18*t.deltaY):(li.x=t.deltaX,li.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(li.x=-.16*t.wheelDeltaX),t.wheelDeltaY?li.y=-.16*t.wheelDeltaY:li.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;li.y=t.detail}Gt(_,!0);var e=It.x-li.x,i=It.y-li.y;(m.modal||e<=ht.min.x&&e>=ht.max.x&&i<=ht.min.y&&i>=ht.max.y)&&t.preventDefault(),f.panTo(e,i)},toggleDesktopZoom:function(t){t=t||{x:St.x/2+Tt.x,y:St.y/2+Tt.y};var e=m.getDoubleTapZoom(!0,f.currItem),i=_===e;f.mouseZoomedIn=!i,f.zoomTo(i?f.currItem.initialZoomLevel:e,t,333),p[(i?"remove":"add")+"Class"](h,"pswp--zoomed-in")}}});function ci(){hi&&clearTimeout(hi),fi&&clearTimeout(fi)}function di(){var t=Ci(),e={};if(t.length<5)return e;var i,n=t.split("&");for(r=0;r<n.length;r++)n[r]&&((i=n[r].split("=")).length<2||(e[i[0]]=i[1]));if(m.galleryPIDs){for(var o=e.pid,r=e.pid=0;r<Ye.length;r++)if(Ye[r].pid===o){e.pid=r;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e}var hi,pi,fi,mi,gi,yi,vi,wi,bi,xi,Ei,Ii,Si={history:!0,galleryUID:1},Ci=function(){return Ei.hash.substring(1)},Ti=function(){var t,e;fi&&clearTimeout(fi),Vt||nt?fi=setTimeout(Ti,500):(mi?clearTimeout(pi):mi=!0,e=E+1,(t=Ke(E)).hasOwnProperty("pid")&&(e=t.pid),t=vi+"&gid="+m.galleryUID+"&pid="+e,wi||-1===Ei.hash.indexOf(t)&&(xi=!0),e=Ei.href.split("#")[0]+"#"+t,Ii?"#"+t!==window.location.hash&&history[wi?"replaceState":"pushState"]("",document.title,e):wi?Ei.replace(e):Ei.hash=t,wi=!0,pi=setTimeout(function(){mi=!1},60))};o("History",{publicMethods:{initHistory:function(){var t,e;p.extend(m,Si,!0),m.history&&(Ei=window.location,wi=bi=xi=!1,vi=Ci(),Ii="pushState"in history,-1<vi.indexOf("gid=")&&(vi=(vi=vi.split("&gid=")[0]).split("?gid=")[0]),a("afterChange",f.updateURL),a("unbindEvents",function(){p.unbind(window,"hashchange",f.onHashChange)}),t=function(){yi=!0,bi||(xi?history.back():vi?Ei.hash=vi:Ii?history.pushState("",document.title,Ei.pathname+Ei.search):Ei.hash=""),ci()},a("unbindEvents",function(){x&&t()}),a("destroy",function(){yi||t()}),a("firstUpdate",function(){E=di().pid}),-1<(e=vi.indexOf("pid="))&&("&"===(vi=vi.substring(0,e)).slice(-1)&&(vi=vi.slice(0,-1))),setTimeout(function(){w&&p.bind(window,"hashchange",f.onHashChange)},40))},onHashChange:function(){return Ci()===vi?(bi=!0,void f.close()):void(mi||(gi=!0,f.goTo(di().pid),gi=!1))},updateURL:function(){ci(),gi||(wi?hi=setTimeout(Ti,800):Ti())}}}),p.extend(f,e)}}),$(function(){"use strict";video(),gallery(),mobileMenu(),feed()});
//# sourceMappingURL=main.min.js.map